{# View mode change response - returns viewer with new class and OOB updates for toggle buttons #}
<div id="viewer" class="{{ viewer_class }}">
    <div class="viewer-body">
        <div class="panel" id="original-panel">
            <img id="original-img" class="page-image" src="/api/page/{{ session_id }}/{{ page }}" alt="Original page" decoding="async">
        </div>
        <div class="panel" id="translated-panel">
            <div id="translated-content">
                {% if is_translated %}
                <img class="page-image" src="/api/page/{{ session_id }}/{{ page }}?translated=1" alt="Translated" decoding="async">
                {% else %}
                <div class="placeholder">Click "Translate" to see translation</div>
                {% endif %}
            </div>
            <div id="panel-loading" class="panel-loading">
                <div class="panel-loading-spinner"></div>
                <span>Translating...</span>
            </div>
        </div>
    </div>
</div>

{# OOB update for view toggle buttons #}
<div id="view-toggle" hx-swap-oob="true" class="view-toggle">
    <button type="button"
            hx-post="/api/view-mode/{{ session_id }}/both"
            hx-target="#viewer"
            hx-swap="outerHTML"
            class="{% if !view_translated_only %}active{% endif %}">Both</button>
    <button type="button"
            hx-post="/api/view-mode/{{ session_id }}/translated"
            hx-target="#viewer"
            hx-swap="outerHTML"
            class="{% if view_translated_only %}active{% endif %}">Translated</button>
</div>
